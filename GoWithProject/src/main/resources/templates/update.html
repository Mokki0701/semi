<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원정보수정</title>

   <!-- 공용 css/js 추가 -->
  <th:block th:replace="~{common/common}"></th:block>

  <!-- myPage 전용 CSS -->
  <link rel="stylesheet" href="/src/main/resources/static/css/profileupdate.css">
</head>

<body>
    
  <main>

    <!-- 헤더 추가 -->
     <th:block th:replace="~{common/header}"></th:block>  
  


    <!-- 마이페이지 본문 -->
    <section class="myPage">

      <h1 class="myPage-title">회원정보수정</h1>
      <span class="myPage-subject">회원정보를 변경할 수 있습니다.</span>

      

      <form action="profile" method="POST" name="myPageFrm" id="profile" enctype="multipart/form-data">

        <div class="profile-image-area">
          <img th:with="user=#{user.default.image}" 
                th:src="${session.loginMember.profileImg ?: user }" 
                id="profileImg">
        </div>

        <span id="deleteImage">x</span>

        <div class="profile-btn-area">
          <label for="imageInput">이미지 선택</label>
          <input type="file" name="profileImg" id="imageInput" accept="image/*"> 
          <button>변경하기</button>
        </div>

        <div class="myPage-row">
          <label>이메일</label>
          <span th:text="${session.loginMember.memberEmail}"></span>
        </div>

        <div class="myPage-row">
          <label>가입일</label>
          <span th:text="${session.loginMember.enrollDate}"></span>
        </div>

        <div class="myPage-row">
          <label>닉네임</label>

          <input type="text" name="memberNickname" 
            maxlength="10" id="memberNickname" 
            th:value="${session.loginMember.memberNickname}">
        </div>

        <div class="myPage-row">
          <label>전화번호</label>
          <input type="text" name="memberTel" 
            maxlength="11" id="memberTel"
            th:value="${session.loginMember.memberTel}">
        </div>

        <div class="myPage-row info-title">
          <span>주소</span>
        </div>

        <div class="myPage-row info-address">
          <input type="text" name="memberAddress"
            placeholder="우편번호" id="postcode"
            th:value="${postcode}">

          <button type="button">검색</button>
        </div>

        <div class="myPage-row info-address">
          <input type="text" name="memberAddress"
            placeholder="도로명/지번 주소" id="address"
            th:value="${address}">
        </div>

        <div class="myPage-row info-address">
          <input type="text" name="memberAddress"
            placeholder="상세 주소" id="detailAddress"
            th:value="${detailAddress}">
        </div>

        <div class="myPage-row">
            <label>새 비밀번호</label>
            <input type="password" name="newPw" id="newPw" maxlength="30">              
        </div>

        <div class="myPage-row">
            <label>새 비밀번호 확인</label>
            <input type="password" name="newPwConfirm" id="newPwConfirm" maxlength="30">  
        </div>

        <br><Br>

        <div class="myPage-row">
          <button class="myPage-submit">수정</button>
        </div>

      <br><br> 

        <div>
          <button class="delete-submit">회원탈퇴</button>
        </div>

      </form>

    </section>

  </main>




  
  <!-- 푸터 추가 -->
  <th:block th:replace="~{common/footer}"></th:block>


  <script src="/js/myPage/myPage.js"></script>

</body>
</html>